const translations = {
  en: {
    siteTitle: "Pinoy Delicacies",
    home: "Home",
    products: "Products",
    about: "About Us",
    cart: "Cart",
    heroTitle: "Authentic Filipino treats from Finland",
    heroSubtitle: "Products prepared according to local recipes",
    heroText: "Choose your favorites and order easily for delivery or pickup.",
    allergens: "Allergen information â†’",
    others: "Other Products",
    spanish: "Spanish Bread",
    cartTitle: "Your Shopping Cart",
    specialOrderNote:
      "NOTE! Special orders, such as allergen modifications or individual requests, are only accepted by phone.\nPlease contact us using the phone number on the homepage.",
    totalPrice: "Total Price",
    name: "Name",
    phone: "Phone",
    email: "Email",
    address: "Address",
    city: "City",
    deliveryMethod: "Delivery Method",
    pickup: "Pickup",
    delivery: "Delivery",
    deliveryNote:
      "NOTE! (DELIVERIES AFTER 7 PM ON WEEKDAYS AND AFTER 10 PM ON WEEKENDS)",
    deliveryTime: "Desired Delivery Time",
    consent: "I agree that my information will be used for order processing.",
    privacyText: "Read our",
    privacyPolicy: "privacy policy",
    submitOrder: "Submit Order",
    clearCart: "Clear Cart",
    contact: "Contact Us",
    footerBy: "By",
    chefView: "Chef View",
    otsikko: "Authentic Filipino delicacies now available in Finland",
    aliotsikko: "All products are made according to original recipes",
    allergenit: "Allergen Information",
    tiedotallergeneista: `Products may contain or may contain traces of the following allergens:
ðŸŒ¾ Cereals containing gluten (wheat)
ðŸ¥› Milk and dairy products
ðŸ¥š Egg
ðŸ¥¥ Coconut
ðŸŒ± Legumes
If you are allergic to any of the allergens listed above, please place your order by phone by contacting the phone number found on the homepage, so we can take your needs into account as carefully as possible.`,
    toimitustietoja:
      "Products are made to order in Espoo. Please contact us by phone if you wish to place a special order.",
    toimituksesta: `Deliveries in the Espoo area are free of charge.
Deliveries to the Helsinki metropolitan area are available for a small fee.
For deliveries to the rest of Finland via Matkahuolto, please place your order and contact us by phone to arrange the delivery.`,
    etusivulle: "Back to home",
    Tietosuojaseloste: "Privacy Policy",
    addcard: "Add to Cart",
  },
  fi: {
    siteTitle: "Pinoy-herkut",
    home: "Etusivu",
    products: "Tuotteet",
    about: "Tietoja meistÃ¤",
    cart: "Ostoskori",
    heroTitle: "Aitoja filippiinilÃ¤isiÃ¤ herkkuja Suomesta",
    heroSubtitle: "Valmistettu perinteisten reseptien mukaan",
    heroText:
      "Valitse suosikkisi ja tilaa helposti kotiinkuljetuksella tai noudolla.",
    allergens: "Allergeenitiedot â†’",
    others: "Muut tuotteet",
    spanish: "Espanjalainen leipÃ¤",
    cartTitle: "Ostoskori",
    specialOrderNote:
      "HUOM! Erikoistilaukset, kuten allergeenimuutokset tai yksilÃ¶lliset pyynnÃ¶t, hyvÃ¤ksytÃ¤Ã¤n vain puhelimitse.\nOta yhteyttÃ¤ kotisivulla olevaan puhelinnumeroon.",
    totalPrice: "Kokonaishinta",
    name: "Nimi",
    phone: "Puhelin",
    email: "SÃ¤hkÃ¶posti",
    address: "Osoite",
    city: "Kaupunki",
    deliveryMethod: "Toimitustapa",
    pickup: "Nouto",
    delivery: "Kotiinkuljetus",
    deliveryNote:
      "HUOM! (TOIMITUKSET ARKISIN KLO 19 JÃ„LKEEN JA VIIKONLOPPUISIN KLO 22 JÃ„LKEEN)",
    deliveryTime: "Toivottu toimitusaika",
    consent: "HyvÃ¤ksyn, ettÃ¤ tietojani kÃ¤ytetÃ¤Ã¤n tilauksen kÃ¤sittelyyn.",
    privacyText: "Lue",
    privacyPolicy: "tietosuojaseloste",
    submitOrder: "LÃ¤hetÃ¤ tilaus",
    clearCart: "TyhjennÃ¤ ostoskori",
    contact: "Yhteystiedot",
    footerBy: "TekijÃ¤",
    chefView: "Kokin nÃ¤kymÃ¤",
    otsikko: "Aitoja filippiinilÃ¤isiÃ¤ herkkuja nyt Suomessa",
    aliotsikko: "Kaikki tuotteet valmistetaan alkuperÃ¤isten reseptien mukaan",
    allergenit: "Allergeenitiedot",
    tiedotallergeneista: `Tuotteet saattavat sisÃ¤ltÃ¤Ã¤ tai olla sisÃ¤ltÃ¤mÃ¤ttÃ¤ seuraavia allergeeneja:
ðŸŒ¾ Gluteenia sisÃ¤ltÃ¤vÃ¤t viljat (vehnÃ¤)
ðŸ¥› Maito ja maitotuotteet
ðŸ¥š Kananmuna
ðŸ¥¥ Kookos
ðŸŒ± Pavut ja palkokasvit
Jos olet allerginen yllÃ¤ mainituille allergeeneille, tilaa puhelimitse soittamalla kotisivulla olevaan puhelinnumeroon, jotta voimme ottaa tarpeesi mahdollisimman hyvin huomioon.`,
    toimitustietoja:
      "Tuotteet valmistetaan tilauksesta Espoossa. Ota yhteyttÃ¤ puhelimitse, jos haluat tehdÃ¤ erikoistilauksen.",
    toimituksesta: `Toimitukset Espoon alueella ovat maksuttomia.
Toimitukset Helsingin seudulle saatavilla pientÃ¤ maksua vastaan.
Muualle Suomeen Matkahuollon kautta, ota yhteyttÃ¤ puhelimitse tilauksen yhteydessÃ¤.`,
    etusivulle: "Takaisin etusivulle",
    Tietosuojaseloste: "Tietosuojaseloste",
    addcard: "LisÃ¤Ã¤ ostoskoriin",
  },
  tl: {
    // Filipino / Tagalog
    siteTitle: "Pinoy Delicacies",
    home: "Bahay",
    products: "Mga Produkto",
    about: "Tungkol sa Amin",
    cart: "Cart",
    heroTitle: "Mga tunay na Filipino treats mula sa Finland",
    heroSubtitle: "Mga produktong inihanda ayon sa lokal na resipe",
    heroText:
      "Pumili ng iyong mga paborito at mag-order nang madali para sa delivery o pickup.",
    allergens: "Impormasyon sa AlÃ©rgen â†’",
    others: "Iba Pang Produkto",
    spanish: "Spanish Bread",
    cartTitle: "Iyong Shopping Cart",
    specialOrderNote:
      "PAALALA! Ang mga espesyal na order, tulad ng pagbabago sa alÃ©rgen o indibidwal na kahilingan, ay tinatanggap lamang sa pamamagitan ng telepono.\nMakipag-ugnayan sa amin gamit ang numero ng telepono sa homepage.",
    totalPrice: "Kabuuang Presyo",
    name: "Pangalan",
    phone: "Telepono",
    email: "Email",
    address: "Address",
    city: "Lungsod",
    deliveryMethod: "Paraan ng Paghatid",
    pickup: "Pickup",
    delivery: "Delivery",
    deliveryNote:
      "PAALALA! (PAGHAHATID PAGKATAPOS NG 7 PM SA MGA ARAW NG TRABAHO AT PAGKATAPOS NG 10 PM SA WEEKEND)",
    deliveryTime: "Nais na Oras ng Paghatid",
    consent:
      "Sang-ayon ako na gagamitin ang aking impormasyon para sa pagproseso ng order.",
    privacyText: "Basahin ang aming",
    privacyPolicy: "patakaran sa privacy",
    submitOrder: "Isumite ang Order",
    clearCart: "I-clear ang Cart",
    contact: "Makipag-ugnayan sa Amin",
    footerBy: "Ni",
    chefView: "Tingnan ng Chef",
    otsikko: "Mga tunay na Filipino delicacies ngayon ay magagamit sa Finland",
    aliotsikko: "Lahat ng produkto ay ginawa ayon sa orihinal na mga resipe",
    allergenit: "Impormasyon sa AlÃ©rgen",
    tiedotallergeneista: `Ang mga produkto ay maaaring maglaman o maglaman ng bakas ng mga sumusunod na alÃ©rgen:
    ðŸŒ¾ Mga cereal na naglalaman ng gluten (trigo)
    ðŸ¥› Gatas at mga produktong gawa sa gatas
    ðŸ¥š Itlog
    ðŸ¥¥ Niyog
    ðŸŒ± Mga legumes
    Kung ikaw ay alerdyi sa alinman sa mga alÃ©rgen na nakalista sa itaas, mangyaring tumawag sa amin gamit ang numero ng telepono sa homepage, upang masiguro naming maibigay ang iyong pangangailangan nang maingat.`,
    toimitustietoja:
      "Ang mga produkto ay ginawa ayon sa order sa Espoo. Mangyaring makipag-ugnayan sa telepono kung nais mong maglagay ng espesyal na order.",
    toimituksesta: `Ang paghahatid sa Espoo ay libre.
    Ang paghahatid sa Helsinki metro area ay magagamit sa maliit na bayad.
    Para sa paghahatid sa ibang bahagi ng Finland sa pamamagitan ng Matkahuolto, mangyaring makipag-ugnayan sa telepono upang ayusin ang paghahatid.`,
    etusivulle: "Bumalik sa bahay",
    Tietosuojaseloste: "Patakaran sa Privacy",
    addcard: "Idagdag sa Cart",
  },
};
function setLanguage(lang) {
  document.querySelectorAll("[data-key]").forEach((el) => {
    const key = el.getAttribute("data-key");
    if (translations[lang] && translations[lang][key]) {
      el.textContent = translations[lang][key];
    }
  });

  // Tallennetaan vain kÃ¤yttÃ¤jÃ¤n valinta
  if (lang !== "en") {
    localStorage.setItem("lang", lang);
  } else {
    localStorage.removeItem("lang"); // englanti = oletus, ei tallenneta
  }
}

window.addEventListener("DOMContentLoaded", () => {
  let lang = localStorage.getItem("lang"); // tarkista aiempi valinta
  if (!lang) {
    lang = "en"; // oletus aina englanti
  }
  setLanguage(lang);

  // PÃ¤ivitÃ¤ kielinappi
  const langBtn = document.querySelector(".nav-lang-btn");
  if (langBtn) langBtn.textContent = lang.toUpperCase() + " â–¾";
});

// Kielivalikko logiikka
const langBtn = document.querySelector(".nav-lang-btn");
const langDropdown = document.querySelector(".nav-lang-dropdown");

if (langBtn && langDropdown) {
  langBtn.addEventListener("click", (e) => {
    e.stopPropagation();
    langDropdown.style.display =
      langDropdown.style.display === "block" ? "none" : "block";
  });

  document.querySelectorAll(".nav-lang-dropdown li").forEach((item) => {
    item.addEventListener("click", () => {
      const lang = item.dataset.lang;
      setLanguage(lang); // vaihtaa kielen
      langDropdown.style.display = "none";
      langBtn.textContent = lang.toUpperCase() + " â–¾";
    });
  });

  document.addEventListener("click", () => {
    langDropdown.style.display = "none";
  });
}
